{{/* template:Index */}}
{{define "content"}}
    <section class="p-style-buttons u-margin-bottom">
        <div class="content">
          <div class="l-flex__item l-flex l-flex--column p-style-buttons__background p-style-buttons__background--light u-margin-bottom">
{{- if .Subject}}
            <p class="t1-heading-3 u-margin-bottom-large">
              Hello, {{.Subject}}!
{{- else }}
            <p>
{{- end }}
            </p>

{{- if .Subject }}
            <div>
            {{- if .Certificates }}
              <table class="overview">
                <tr class="overview-tr">
                  <th class="overview-th">Serial</th>
                  <th class="overview-th">Common Name</th>
                  <th class="overview-th">Not Before</th>
                  <th class="overview-th">Not After</th>
                  <th class="overview-th">Revoked?</th>
                </tr>
                {{- range .Certificates }}
                <tr class="overview-tr">
                  <td class="overview-td">{{ .Serial }}</td>
                  <td class="overview-td">{{ .CN }}</td>
                  <td class="overview-td">{{ .NotBefore }}</td>
                  <td class="overview-td">{{ .NotAfter }}</td>
                  <td class="overview-td">{{- if .Revoked }}Yes{{- else }}No, <a href="/certificate/revoke?serial={{- .Serial }}">revoke now</a>{{- end }}</td>
                </tr>
                {{- end }}
              </table>
            {{- end }}
            </div>
            <div><a class="c1-btn c1-btn--primary button-bottom persimmon" href="/certificate/request">Request certificate</a></div>
{{- else }}
            <div><a class="c1-btn c1-btn--primary button-bottom persimmon" href="/login/init">Login</a></div>
{{- end }}
          </div>
        </div>
    </section>
{{- end}}
